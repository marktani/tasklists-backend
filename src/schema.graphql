# import * from './generated/prisma.graphql'

type Query {
  userByToken(token: String!): User
  me: User
  users: [User]
  taskLists: [TaskList]
  taskList(slug: String!): TaskList
  tasks(taskListSlug: String!, excludeStatus: [TaskStatus]): [Task]
}

type Mutation {
  createUser(
    email: String! 
    name: String!
    slackHandle: String!
    role: Role
    avatar: String
  ): User

  createTaskList(
    name: String!
    description: String!
    taskListFields: [TaskListFieldCreateWithoutTaskListInput]
  ): TaskList

  signUp(token: String!, password: String!, avatar: String): User
  
  signIn(email: String!, password: String!): User
  
  signOut: StatusMessage
}

# TODO make sure that the API isn't esposing anything we don't want it to
# check for all relationships etc etc - do we need to limit by role ?

type User {
  id: ID!
  email: String!
  name: String
  slackHandle: String
  role: Role
  status: UserStatus
}

type StatusMessage {
  message: String
}